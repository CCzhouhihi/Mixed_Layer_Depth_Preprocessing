# NetCDF Processing Tools (Python)

This codebase provides Python functions for reading, writing, and interpolating NetCDF data. It is intended for 2D uniform gridded datasets.

> Warning: Known issues may occur with 3D+ datasets and non-uniform grids.  
> Recommendation: Try the example scripts first to understand limitations.

## Features

- `write_nc`: Write variables (and dimensions) to a NetCDF file, either new (via `.cdl`) or existing.
- `interp2d_nc`: Interpolate data from one `.nc` file to another based on a mask file (not recommended due to structure constraints).
- `interp2d_array`: Perform 2D linear interpolation from one regular grid to another using NumPy arrays.
- `getdata_nc`: Extract data from a NetCDF file with flexible dimension name handling and subsetting.
- `getll_nc`: Extract longitude and latitude variables with automatic name detection.

## Dependencies

- Python packages: `numpy`, `pandas`, `xarray`
- External tool: `ncgen` (NetCDF Utilities)

## Example Files

- `pre_function_examples.ipynb`: Jupyter notebook demonstrating basic workflows.
- `pre_function_examples.py`: Python script version of the examples.
- `HYCOM_inv_20190101-0103.nc`: Sample NetCDF input file (e.g., mixed layer depth).
- `nwp_mask.cdl`, `nwp_mld.cdl`: CDL description files for creating NetCDF files via `ncgen`.
- `_result_files/*.nc`: Output files generated by the example scripts.

## Usage Notes

- Modify the dimension name lists (`lonname_list`, `latname_list`, etc.) inside functions as needed.
- The interpolation routines assume regular, uniform grids and minimal NaN values.
- You can adjust interpolation methods manually within `interp2d_array`.

## Utilities

Example command-line usage with NetCDF tools:

```bash
# Generate a NetCDF file from CDL
ncgen -o example.nc example.cdl

# View the header of a NetCDF file as CDL
ncdump -h example.nc > example_output.cdl
```

## License

MIT License (or specify your own)
